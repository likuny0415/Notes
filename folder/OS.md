# Virtual CPU



# Virtual Memory

**Every address generated by a user program is a virtual address**

Why virutal memory ?

As multiprogramming proceeds, we want use CPU more efficiently. So, we use **address space** to help program access memory. 

Concepts: **Code** lives in address space. Function call chain | variables | return values are in **Stack**. Dynamicall-allocated, user-management memory, data structure are in **Heap**. 

**Key** of virtual memory: When a program wants to access address, it thoughts it access position 0(physical address), but somehow it access position 2 in physical address.

Goal of implementing VM?

1. Transparency
   - Do not let program knows virtual memory behind the scene
   - Virtual memory is invisiable to programs
2. Efficienty
   - Time
   - Space
3. Protection
   - Keep one process away from OS or other address space aside from its own
   - Keep each process in isolation

Summary

The VM system is responsible to take each of virtual memory reference, and turn them into the real physical address to fetch the desired data. The OS take all these steps at once, so protect each process is very important.



 

















